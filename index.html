<!doctype html>
<html lang="en">

<head>
    <title></title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

</head>

<body>
    <div class="btn"></div>
    <!-- v-scope value can be omitted -->
    <script type="module" src="./js/ladi-server@0.0.5.js"></script>
    <script type="module">
        import { Render, PostData, GetAllData } from "./js/ladi-server@0.0.5.js"

        Render("btn",
            `<div class="flex gap-x-2">
                ${[...await GetAllData("products")].map((val, index) =>
                `<div class="card bg-base-100 w-96 shadow-xl" onclick="document.getElementById('product_modal_${val.id}').showModal()">
                    <figure class="px-10 pt-10 h-96">
                        <img
                        src=${val.thumbnail}
                        class="rounded-xl object-cover h-full" />
                    </figure>
                    <div class="card-body items-center text-center">
                        <h2 class="card-title">${val.name}</h2>
                    </div>
                </div>
                
                <dialog id="product_modal_${val.id}" class="modal">
                    <div class="modal-box">
                        <figure class="px-10 pt-10">
                        <img
                            src=${val.thumbnail}
                            class="rounded-xl object-cover h-full" />
                        </figure>
                        <div class="card-body items-center text-center">
                            <h2 class="card-title">${val.name}</h2>
                            <p>${val.note}</p>
                        </div>
                        <div class="modal-action">
                        <form method="dialog">
                            <!-- if there is a button in form, it will close the modal -->
                            <button class="btn">Close</button>
                        </form>
                        </div>
                    </div>
                </dialog>
                `).join("\n")}
            </div>
        `)

    </script>
</body>

</html>